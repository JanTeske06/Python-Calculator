import subprocess
import sys
import os
from pathlib import Path

#Both Calculator Modes
CalcSmplfd = str(Path(__file__).resolve().parent / "CalcSmplfd.py")
CalcCas = str(Path(__file__).resolve().parent / "Cas.py")
UI = str(Path(__file__).resolve().parent / "UI.py")
python_interpreter = sys.executable
zaehler = 1
problem = "3*4"


def numerical():
    cmd = [
            python_interpreter,
            CalcSmplfd,
            problem
    ]
    try:
        ergebnis = subprocess.run(
            cmd,
            capture_output=True,
            text=True,
            check=True)
        zurueckgeschickter_string = ergebnis.stdout.strip()
        return zurueckgeschickter_string
    except subprocess.CalledProcessError as e:
        print(f"Ein Fehler ist aufgetreten: {e}")

def Casfun():
    cmd = [
            python_interpreter,
            CalcSmplfd,
            problem
    ]
    try:
        ergebnis = subprocess.run(
            cmd,
            capture_output=True,
            text=True,
            check=True)
        zurueckgeschickter_string = ergebnis.stdout.strip()
        return zurueckgeschickter_string
    except subprocess.CalledProcessError as e:
        print(f"Ein Fehler ist aufgetreten: {e}")

def UICalc():
    cmd = [
            python_interpreter,
            UI
    ]
    try:
        ergebnis = subprocess.run(
            cmd,
            capture_output=True,
            text=True,
            check=True)
        zurueckgeschickter_string = ergebnis.stdout.strip()
        return zurueckgeschickter_string
    except subprocess.CalledProcessError as e:
        print(f"Ein Fehler ist aufgetreten: {e}")

def main():

    arrays_sammlung = {}
    global zaehler
    global problem
    zaehler = zaehler +1

    # ergebnis = Casfun()
    # if ergebnis:
    #     print(f"Ergebnis: {ergebnis}")
    # print(zaehler)
    UICalc()


if __name__ == "__main__":
    debug = 0  # 1 = activated, 0 = deactivated
    main()
